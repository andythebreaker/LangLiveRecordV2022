#!/usr/bin/python
# -*- coding: UTF-8 -*-
import requests
import time
import threading
import configparser
import json
import os
import signal
import subprocess
from tkinter import *
from tkinter import ttk
from time import sleep
import sys
import json
import codecs
#var_test_string='{"ret_code":"0","ret_msg":"ok","data":{"pindex":1,"psize":40,"pnum":1,"total":39,"list":[{"pfid":1398860,"nic":"蔡伊柔","title":"蔡伊柔","img":"https:\/\/assets.lang.live\/user\/1398860\/a8f86b6f6284a03666a78a0235391094","hv":0,"jump":{"j_type":3,"pfid":1398860},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/1398860\/a8f86b6f6284a03666a78a0235391094","constellation":"巨蟹座"},{"pfid":1985963,"nic":"李孟純","title":"李孟純","img":"https:\/\/assets.lang.live\/user\/1985963\/5f12688d79e4f335b23e0f8590c99deb","hv":0,"jump":{"j_type":3,"pfid":1985963},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/1985963\/5f12688d79e4f335b23e0f8590c99deb","constellation":"雙子座"},{"pfid":2028726,"nic":"潘姿怡","title":"潘姿怡","img":"https:\/\/assets.lang.live\/user\/2028726\/24f6f9e804b2e224050d91d74956d694","hv":0,"jump":{"j_type":3,"pfid":2028726},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/2028726\/24f6f9e804b2e224050d91d74956d694","constellation":"獅子座"},{"pfid":3619520,"nic":"李佳俐","title":"李佳俐","img":"https:\/\/assets.lang.live\/user\/3619520\/64f2e59c1e4e44433a335ba514ebca98","hv":0,"jump":{"j_type":3,"pfid":3619520},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3619520\/64f2e59c1e4e44433a335ba514ebca98","constellation":"天蠍座"},{"pfid":3650580,"nic":"林倢","title":"林倢","img":"https:\/\/assets.lang.live\/user\/3650580\/e7380972996048a29f94d5f65051bc2b","hv":0,"jump":{"j_type":3,"pfid":3650580},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650580\/e7380972996048a29f94d5f65051bc2b","constellation":"水瓶座"},{"pfid":3650583,"nic":"王逸嘉","title":"王逸嘉","img":"https:\/\/assets.lang.live\/user\/3650583\/9776f76972c147269cccc9d582b2a261","hv":0,"jump":{"j_type":3,"pfid":3650583},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650583\/9776f76972c147269cccc9d582b2a261","constellation":"天蠍座"},{"pfid":3650589,"nic":"林易沄","title":"林易沄","img":"https:\/\/assets.lang.live\/user\/3650589\/806396204886c575ee3b9f81b256050f","hv":0,"jump":{"j_type":3,"pfid":3650589},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650589\/806396204886c575ee3b9f81b256050f","constellation":"天蠍座"},{"pfid":3650590,"nic":"高云珏","title":"高云珏","img":"https:\/\/assets.lang.live\/user\/3650590\/65b5cfa6a22bd61f5a5eca6d0cb0d1c4","hv":0,"jump":{"j_type":3,"pfid":3650590},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650590\/65b5cfa6a22bd61f5a5eca6d0cb0d1c4","constellation":"天秤座"},{"pfid":3650718,"nic":"林潔心","title":"林潔心","img":"https:\/\/assets.lang.live\/user\/3650718\/e426436c3f378ced4c4881cc0283fd32","hv":0,"jump":{"j_type":3,"pfid":3650718},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650718\/e426436c3f378ced4c4881cc0283fd32","constellation":"牡羊座"},{"pfid":3650734,"nic":"蔡亞恩","title":"蔡亞恩","img":"https:\/\/assets.lang.live\/user\/3650734\/495f44c3529e4a76c4af5e22817f8bad","hv":0,"jump":{"j_type":3,"pfid":3650734},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650734\/495f44c3529e4a76c4af5e22817f8bad","constellation":"天秤座"},{"pfid":3650735,"nic":"周佳郁","title":"周佳郁","img":"https:\/\/assets.lang.live\/user\/3650735\/ae2dc6a067d99d9a27596116301e8171","hv":0,"jump":{"j_type":3,"pfid":3650735},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650735\/ae2dc6a067d99d9a27596116301e8171","constellation":"天蠍座"},{"pfid":3650740,"nic":"柏靈","title":"柏靈","img":"https:\/\/assets.lang.live\/user\/3650740\/37e1b0e4dfb2ef5d4fac9dc2e14a558f","hv":0,"jump":{"j_type":3,"pfid":3650740},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650740\/37e1b0e4dfb2ef5d4fac9dc2e14a558f","constellation":"處女座"},{"pfid":3650741,"nic":"賈宜蓁","title":"賈宜蓁","img":"https:\/\/assets.lang.live\/user\/3650741\/fe8d1a9a0cdedd13f66d5a375abac280","hv":0,"jump":{"j_type":3,"pfid":3650741},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650741\/fe8d1a9a0cdedd13f66d5a375abac280","constellation":"獅子座"},{"pfid":3650751,"nic":"羅瑞婷","title":"羅瑞婷","img":"https:\/\/assets.lang.live\/user\/3650751\/63118871c2f0112d7e4e4f9eb1d7fb48","hv":0,"jump":{"j_type":3,"pfid":3650751},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650751\/63118871c2f0112d7e4e4f9eb1d7fb48","constellation":"獅子座"},{"pfid":3650753,"nic":"鄭佳郁","title":"鄭佳郁","img":"https:\/\/assets.lang.live\/user\/3650753\/5347328767be7352b98eb868e5bf5a80","hv":0,"jump":{"j_type":3,"pfid":3650753},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3650753\/5347328767be7352b98eb868e5bf5a80","constellation":"金牛座"},{"pfid":3651219,"nic":"李采潔","title":"李采潔","img":"https:\/\/assets.lang.live\/user\/3651219\/f36d1a45cc4622751b7a4ebf4013a325","hv":0,"jump":{"j_type":3,"pfid":3651219},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3651219\/f36d1a45cc4622751b7a4ebf4013a325","constellation":"雙魚座"},{"pfid":3652111,"nic":"張法法","title":"張法法","img":"https:\/\/assets.lang.live\/user\/3652111\/7ccab9e0518402044ab0b433cc8552c1","hv":0,"jump":{"j_type":3,"pfid":3652111},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3652111\/7ccab9e0518402044ab0b433cc8552c1","constellation":"摩羯座"},{"pfid":3652550,"nic":"陳詩雅","title":"陳詩雅","img":"https:\/\/assets.lang.live\/user\/3652550\/40a6e3f40122f4ce15e73a0a1ef11b51","hv":0,"jump":{"j_type":3,"pfid":3652550},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3652550\/40a6e3f40122f4ce15e73a0a1ef11b51","constellation":"金牛座"},{"pfid":3654414,"nic":"AKB48 TeamTP","title":"AKB48 TeamTP","img":"http:\/\/blob.ufile.ucloud.com.cn\/1f24eb80913fbe418b6f032bc26b40ac0c93d0e9c387b8f20b9fb3ba424ae890","hv":0,"jump":{"j_type":3,"pfid":3654414},"lt_tag":[],"living":0,"headimg":"http:\/\/blob.ufile.ucloud.com.cn\/1f24eb80913fbe418b6f032bc26b40ac0c93d0e9c387b8f20b9fb3ba424ae890","constellation":"摩羯座"},{"pfid":3686707,"nic":"邱品涵","title":"邱品涵","img":"https:\/\/assets.lang.live\/user\/3686707\/c836571eead575d96b287ebe9b4e8527","hv":0,"jump":{"j_type":3,"pfid":3686707},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3686707\/c836571eead575d96b287ebe9b4e8527","constellation":"摩羯座"},{"pfid":3686708,"nic":"劉曉晴","title":"劉曉晴","img":"https:\/\/assets.lang.live\/user\/3686708\/99fcc96f9ff31744bea052a5ed1c3dcb","hv":0,"jump":{"j_type":3,"pfid":3686708},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3686708\/99fcc96f9ff31744bea052a5ed1c3dcb","constellation":"獅子座"},{"pfid":3686709,"nic":"張羽翎","title":"張羽翎","img":"https:\/\/assets.lang.live\/user\/3686709\/16fd4c466ae341eb729d983a5ad0f96c","hv":0,"jump":{"j_type":3,"pfid":3686709},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3686709\/16fd4c466ae341eb729d983a5ad0f96c","constellation":"巨蟹座"},{"pfid":3686711,"nic":"劉語晴","title":"劉語晴","img":"https:\/\/assets.lang.live\/user\/3686711\/df8e1cf94aa65ec53f8e65a74f509350","hv":0,"jump":{"j_type":3,"pfid":3686711},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3686711\/df8e1cf94aa65ec53f8e65a74f509350","constellation":"巨蟹座"},{"pfid":3686713,"nic":"林于馨","title":"林于馨","img":"https:\/\/assets.lang.live\/user\/3686713\/c62b8ef08daaa35aef0e68780031ce34","hv":0,"jump":{"j_type":3,"pfid":3686713},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3686713\/c62b8ef08daaa35aef0e68780031ce34","constellation":"摩羯座"},{"pfid":3687493,"nic":"冼迪琦","title":"冼迪琦","img":"https:\/\/assets.lang.live\/user\/3687493\/56211bf001d208b05e8cce78b8bf909d","hv":0,"jump":{"j_type":3,"pfid":3687493},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3687493\/56211bf001d208b05e8cce78b8bf909d","constellation":"水瓶座"},{"pfid":3793753,"nic":"鄭妤葳","title":"鄭妤葳","img":"https:\/\/assets.lang.live\/user\/3793753\/11b913467278a9ebf0798564deee6f18","hv":0,"jump":{"j_type":3,"pfid":3793753},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3793753\/11b913467278a9ebf0798564deee6f18","constellation":"天蠍座"},{"pfid":3794774,"nic":"藤井麻由","title":"藤井麻由","img":"https:\/\/assets.lang.live\/user\/3794774\/ea9d94d7f01436ff46aee537efc4aafc","hv":0,"jump":{"j_type":3,"pfid":3794774},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3794774\/ea9d94d7f01436ff46aee537efc4aafc","constellation":"射手座"},{"pfid":3795137,"nic":"小山美玲","title":"小山美玲","img":"https:\/\/assets.lang.live\/user\/3795137\/20413cf5ea8b1f8cdf61aae824f6b706","hv":0,"jump":{"j_type":3,"pfid":3795137},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3795137\/20413cf5ea8b1f8cdf61aae824f6b706","constellation":"巨蟹座"},{"pfid":3800370,"nic":"董子瑄","title":"董子瑄","img":"https:\/\/assets.lang.live\/user\/3800370\/dc32e2cbf281c0025eef46d4c3a56b74","hv":0,"jump":{"j_type":3,"pfid":3800370},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/3800370\/dc32e2cbf281c0025eef46d4c3a56b74","constellation":"射手座"},{"pfid":4210533,"nic":"吳婉淩","title":"吳婉淩","img":"https:\/\/assets.lang.live\/user\/4210533\/f98e4959f368961858b5c64430b882fb","hv":0,"jump":{"j_type":3,"pfid":4210533},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4210533\/f98e4959f368961858b5c64430b882fb","constellation":"獅子座"},{"pfid":4560592,"nic":"國興瑀","title":"國興瑀","img":"https:\/\/assets.lang.live\/user\/4560592\/149cab9ce7e33a13144a414499bc60ca","hv":0,"jump":{"j_type":3,"pfid":4560592},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4560592\/149cab9ce7e33a13144a414499bc60ca","constellation":"天秤座"},{"pfid":4663715,"nic":"吳騏卉","title":"吳騏卉","img":"https:\/\/assets.lang.live\/user\/4663715\/3bf99019773eba7bcf609a367cd2f31c","hv":0,"jump":{"j_type":3,"pfid":4663715},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663715\/3bf99019773eba7bcf609a367cd2f31c","constellation":"天蠍座"},{"pfid":4663716,"nic":"林佳霓","title":"林佳霓","img":"https:\/\/assets.lang.live\/user\/4663716\/ffc6c4bff21bc4f9ea422cdd39fb0a78","hv":0,"jump":{"j_type":3,"pfid":4663716},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663716\/ffc6c4bff21bc4f9ea422cdd39fb0a78","constellation":"摩羯座"},{"pfid":4663718,"nic":"周家安","title":"周家安","img":"https:\/\/assets.lang.live\/user\/4663718\/afb849a6530e00c69acaf7b436bfe910","hv":0,"jump":{"j_type":3,"pfid":4663718},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663718\/afb849a6530e00c69acaf7b436bfe910","constellation":"天秤座"},{"pfid":4663721,"nic":"林亭莉","title":"林亭莉","img":"https:\/\/assets.lang.live\/user\/4663721\/517a6f595588f8b613dec4a2e9d1b6be","hv":0,"jump":{"j_type":3,"pfid":4663721},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663721\/517a6f595588f8b613dec4a2e9d1b6be","constellation":"雙子座"},{"pfid":4663722,"nic":"翁彤薰","title":"翁彤薰","img":"https:\/\/assets.lang.live\/user\/4663722\/8456fabc054a7b31ad027ab93adcab6e","hv":0,"jump":{"j_type":3,"pfid":4663722},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663722\/8456fabc054a7b31ad027ab93adcab6e","constellation":"金牛座"},{"pfid":4663724,"nic":"宮田留佳","title":"宮田留佳","img":"https:\/\/assets.lang.live\/user\/4663724\/5db4b15de6a3aa45e45f903f9180af47","hv":0,"jump":{"j_type":3,"pfid":4663724},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663724\/5db4b15de6a3aa45e45f903f9180af47","constellation":"金牛座"},{"pfid":4663738,"nic":"袁子筑","title":"袁子筑","img":"https:\/\/assets.lang.live\/user\/4663738\/112a9580f88a37a3662f49ba6e7ed7e6","hv":0,"jump":{"j_type":3,"pfid":4663738},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/4663738\/112a9580f88a37a3662f49ba6e7ed7e6","constellation":"金牛座"},{"pfid":5381964,"nic":"高硯晨","title":"高硯晨","img":"https:\/\/assets.lang.live\/user\/5381964\/183de0d4a9c91d07bf8ad91671bfbb64","hv":0,"jump":{"j_type":3,"pfid":5381964},"lt_tag":[],"living":0,"headimg":"https:\/\/assets.lang.live\/user\/5381964\/183de0d4a9c91d07bf8ad91671bfbb64","constellation":"巨蟹座"}]}}'
def exe(mainURL):
    Mres = requests.get(mainURL)
    jess_dict = json.loads(Mres.text)
    #print(jess_dict['data']['list'][0]['title'])
    #print(jess_dict['data']['list'][0]['pfid'])
    print(jess_dict['data']['total'])
    tmp_count=jess_dict['data']['total']
    #if tmp_count.isdigit():
    var_tmp_str=''
    for item in range(0,int(tmp_count)-1):
        print(jess_dict['data']['list'][item]['title'])
        print(jess_dict['data']['list'][item]['pfid'])
        var_eba=jess_dict['data']['list'][item]['title']
        try:
            jess_dict['data']['list'][item]['title'].encode('big5')
        except:
            var_eba='高云玨'
        var_tmp_str=var_tmp_str+str(var_eba)+','+str(jess_dict['data']['list'][item]['pfid'])+';'
    with codecs.open("../member_id.txt", "w", "cp950") as f:
        f.write(var_tmp_str)
    #else:
    #    print("langLiveApiError")
exe('https://api.lang.live/langweb/v1/home/class_list?psize=40&id=3-100002')